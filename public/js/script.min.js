document.addEventListener("DOMContentLoaded",function(){const qrcodeContainer=document.getElementById("qrcode-container");const scriptElement=document.currentScript||document.querySelector('script[src="qrcode-embed.js"]');const link=document.createElement("link");link.rel="stylesheet";link.href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap";document.head.appendChild(link);qrcodeContainer.style.display="flex";qrcodeContainer.style.flexDirection="column";qrcodeContainer.style.alignItems="center";qrcodeContainer.style.justifyContent="center";const qrImage=document.createElement("img");qrImage.src=scriptElement.getAttribute('img');qrImage.style.marginBottom="12px";qrImage.alt="QR Code";qrImage.style.width="180px";qrImage.style.height="180px";qrcodeContainer.appendChild(qrImage);const qrButton=document.createElement("button");qrButton.textContent="Save Contact";qrButton.style.fontFamily="Poppins";qrButton.style.fontWeight="600";qrButton.style.fontSize="16px";qrButton.style.width="max-content";qrButton.style.borderRadius="157px";qrButton.style.border="none";qrButton.style.display="flex";qrButton.style.justifyContent="center";qrButton.style.alignItems="center";qrButton.style.backgroundColor="#2E2E2E";qrButton.style.color="rgb(190, 255, 108)";qrButton.style.padding="10px 22px 10px 22px";qrButton.style.height="45px";qrcodeContainer.appendChild(qrButton);qrButton.addEventListener("click",function(){createVcard()});const createVcard=()=>{const vcardContent=scriptElement.getAttribute('data');const name=scriptElement.getAttribute('name');const rawTextVCardContent=vcardContent.replace(/\\n/g,'\n');const blob=new Blob([rawTextVCardContent],{type:"text/vcard"});const url=URL.createObjectURL(blob);const downloadLink=document.createElement("a");downloadLink.href=url;downloadLink.download=`${name}.vcf`;document.body.appendChild(downloadLink);downloadLink.click();document.body.removeChild(downloadLink);URL.revokeObjectURL(url)}});